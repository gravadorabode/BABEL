<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ANTIGRAVITY — Admin</title>
    <meta name="theme-color" content="#0a0a0f">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;500;600;700;800;900&family=Inter:wght@300;400;500;600&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="css/styles.css">
</head>

<body>

    <!-- NAVBAR -->
    <nav id="navbar" class="navbar scrolled">
        <div class="nav-container">
            <a href="index.html" class="nav-logo">
                <span class="logo-icon">▲</span>
                <span class="logo-text">ANTIGRAVITY</span>
            </a>
            <div class="nav-links">
                <a href="index.html">Voltar ao Site</a>
            </div>
            <div class="nav-user" id="nav-user"></div>
        </div>
    </nav>

    <!-- ADMIN LAYOUT -->
    <div class="admin-layout">
        <!-- SIDEBAR -->
        <aside class="admin-sidebar" id="admin-sidebar">
            <div style="margin-bottom:var(--space-5);">
                <div
                    style="font-size:0.72rem; font-weight:600; color:var(--text-muted); text-transform:uppercase; letter-spacing:0.1em; margin-bottom:var(--space-3);">
                    Painel Admin</div>
            </div>
            <div class="admin-nav-item active" data-section="dashboard">
                <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <rect x="3" y="3" width="7" height="7" />
                    <rect x="14" y="3" width="7" height="7" />
                    <rect x="14" y="14" width="7" height="7" />
                    <rect x="3" y="14" width="7" height="7" />
                </svg>
                Dashboard
            </div>
            <div class="admin-nav-item" data-section="producers">
                <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2" />
                    <circle cx="9" cy="7" r="4" />
                    <path d="M23 21v-2a4 4 0 0 0-3-3.87" />
                    <path d="M16 3.13a4 4 0 0 1 0 7.75" />
                </svg>
                Produtores
            </div>
            <div class="admin-nav-item" data-section="tracks">
                <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M9 18V5l12-2v13" />
                    <circle cx="6" cy="18" r="3" />
                    <circle cx="18" cy="16" r="3" />
                </svg>
                Faixas
            </div>
        </aside>

        <!-- MAIN CONTENT -->
        <main class="admin-main" id="admin-main">
            <!-- DASHBOARD -->
            <div id="section-dashboard" class="admin-section">
                <div class="admin-header">
                    <h1 class="admin-title">Dashboard</h1>
                    <p class="admin-subtitle">Visão geral da plataforma</p>
                </div>
                <div class="dashboard-grid" id="dashboard-grid">
                    <div class="dash-card">
                        <div class="dash-card-icon purple">
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                stroke-width="2">
                                <path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2" />
                                <circle cx="9" cy="7" r="4" />
                            </svg>
                        </div>
                        <div class="dash-card-value" id="dash-producers">0</div>
                        <div class="dash-card-label">Produtores</div>
                    </div>
                    <div class="dash-card">
                        <div class="dash-card-icon pink">
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                stroke-width="2">
                                <path d="M9 18V5l12-2v13" />
                                <circle cx="6" cy="18" r="3" />
                                <circle cx="18" cy="16" r="3" />
                            </svg>
                        </div>
                        <div class="dash-card-value" id="dash-tracks">0</div>
                        <div class="dash-card-label">Faixas</div>
                    </div>
                    <div class="dash-card">
                        <div class="dash-card-icon cyan">
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                stroke-width="2">
                                <path
                                    d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z" />
                            </svg>
                        </div>
                        <div class="dash-card-value" id="dash-likes">0</div>
                        <div class="dash-card-label">Curtidas Totais</div>
                    </div>
                </div>
            </div>

            <!-- PRODUCERS -->
            <div id="section-producers" class="admin-section" style="display:none;">
                <div class="admin-header">
                    <h1 class="admin-title">Produtores</h1>
                </div>
                <div class="admin-table-wrapper">
                    <table class="admin-table">
                        <thead>
                            <tr>
                                <th>Produtor</th>
                                <th>Email</th>
                                <th>Role</th>
                            </tr>
                        </thead>
                        <tbody id="admin-producers-body">
                            <tr>
                                <td colspan="3" style="text-align:center;">Carregando...</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>

            <!-- TRACKS -->
            <div id="section-tracks" class="admin-section" style="display:none;">
                <div class="admin-header">
                    <h1 class="admin-title">Faixas</h1>
                </div>
                <div class="admin-table-wrapper">
                    <table class="admin-table">
                        <thead>
                            <tr>
                                <th>Faixa</th>
                                <th>Produtor</th>
                                <th>Gênero</th>
                                <th>Likes (Total)</th>
                            </tr>
                        </thead>
                        <tbody id="admin-tracks-body">
                            <tr>
                                <td colspan="4" style="text-align:center;">Carregando...</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </main>
    </div>

    <!-- TOAST -->
    <div class="toast-container" id="toast-container"></div>

    <!-- Octokit & GitHub DB -->
    <script type="module">
        import { Octokit } from "https://esm.sh/@octokit/core";
        window.Octokit = Octokit;
    </script>
    <script src="js/crypto-utils.js"></script>
    <script src="js/github-db.js" type="module"></script>
    <script src="js/auth.js" type="module"></script>
    <script src="js/admin.js"></script>
</body>

</html>